<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ac.ict.menelaus.aiops.dal.impl.ServiceApplicationControlDal">
	<resultMap id="serviceApplicationControlMap" type="serviceApplicationControl">
	  <id property="Id" column="id" />
	  <result property="Timestamp" column="timestampe"/>
	  <result property="RuleName" column="rule_name"/>
	  <result property="User" column="user"/>
	  <result property="SourceIp" column="source_ip"/>
	  <result property="SourcePort" column="source_port"/>
	  <result property="DestinationIp" column="destination_ip"/>
	  <result property="DestinationPort" column="destination_port"/>
	  <result property="ApplicationType" column="application_type"/>
	  <result property="ApplicationName" column="application_name"/>
	  <result property="SystemAction" column="system_action"/>
	</resultMap>
	
	<select id="selectByPage" resultMap="serviceApplicationControlMap" parameterType="java.util.Map">
		select * from service_application_control where
		<if test="Id != null">
			id = #{Id,jdbcType=INTEGER} and
		</if>
		<if test="Timestamp != null">
			timestamp = #{Timestamp,jdbcType=DATE} and
		</if>
		<if test="User != null">
			user = #{User,jdbcType=VARCHAR} and
		</if>
		<if test="SourceIp != null">
			source_ip = #{SourceIp,jdbcType=VARCHAR} and
		</if>
		<if test="SourcePort != null">
			source_port = #{SourcePort,jdbcType=INTEGER} and
		</if>
		<if test="DestinationIp != null">
			destination_ip = #{DestinationIp,jdbcType=VARCHAR} and
		</if>
		<if test="DestinationPort != null">
			destination_port = #{DestinationPort,jdbcType=INTEGER} and
		</if>
		<if test="ApplicationType != null">
			application_type = #{ApplicationType,jdbcType=VARCHAR} and
		</if>
		<if test="ApplicationName != null">
			application_name = #{ApplicationName,jdbcType=VARCHAR} and
		</if>
		<if test="SystemAction != null">
			system_action = #{SystemAction,jdbcType=VARCHAR} and
		</if>
		 1=1 LIMIT #{Offset},#{Count};
	</select>

</mapper>